## Cookie&sessionStorage&localStorage

## 共同点

都是保存在浏览器端，并且是同源的

## 基础概念

Cookie:

cookie 数据始终在同源的 http 请求中携带（即使不需要），即 **cookie 在浏 览器和服务器间来回传递**。而 sessionStorage 和 localStorage 不会自动把数据发给 服务器，仅在本地保存。cookie 数据还有路径（path）的概念，可以限制 cookie 只属 于某个路径下,存储的大小很小只有 4K 左右。 （key：可以在浏览器和服务器端来回 传递，存储容量小，只有大约 4K 左右）

- **cookie 的作用补充**：

🗿保存用户登录状态：例如将用户 id 存储于一个 cookie 内，这样当用户下次访问该页 面时就不需要重新登录了，现在很多论坛和社区都提供这样的功能。 cookie 还可以设 置过期时间，当超过时间期限后，cookie 就会自动消失。因此，系统往往可以提示用 户保持登录状态的时间：常见选项有一个月、三个 月、一年等。

⚒跟踪用户行为：例如一个天气预报网站，能够根据用户选择的地区显示当地的天气情 况。如果每次都需要选择所在地是烦琐的，当利用了 cookie 后就会显得很人性化了， 系统能够记住上一次访问的地区，当下次再打开该页面时，它就会自动显示上次用户 所在地区的天气情况。因为一切都是在后 台完成，所以这样的页面就像为某个用户所 定制的一样，使用起来非常方便定制页面。如果网站提供了换肤或更换布局的功能， 那么可以使用 cookie 来记录用户的选项，例如：背景色、分辨率等。当用户下次访问 时，仍然可以保存上一次访问的界面风格。

sessionStorage:

：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持， localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据； cookie 只在设置的 cookie 过期时间之前一直有效，即使窗口或浏览器关闭。（key： 本身就是一个回话过程，关闭浏览器后消失，session 为一个回话，当页面不同即使是 同一页面打开两次，也被视为同一次回话）

localStorage:

localStorage 在所有同源窗口中都是共享的；cookie 也是在所有同源 窗口中都是共享的。（key：同源窗口都会共享，并且不会失效，不管窗口或者浏览器 关闭与否都会始终生效）